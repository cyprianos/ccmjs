#! /usr/bin/env node

var ccm = require('../ccm.js');
var fs = require('fs');
var util = require('util');
var glob = require('glob');


glob('**/*.js', function(err, files) {

  files.forEach(function(file) {
    console.log('ccm for ' + file);

    try {
      var fileContent = fs.readFileSync(file, { encoding: 'utf8' });
      var res = ccm.calculate( fileContent );
      console.log(util.inspect(res));
    } catch(err) {
      console.log(util.inspect(err));
    }
  });
});


